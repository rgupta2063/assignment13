{"ast":null,"code":"var _jsxFileName = \"/Users/ritugupta/Desktop/CS648/assignment13/src/Products.js\";\nimport React, { Component } from 'react';\nimport Filters from './Filters';\nimport ProductTable from './ProductTable';\nimport ProductForm from './ProductForm';\nimport $ from 'jquery'; // let PRODUCTS = {\n//     '1': {id: 1, category: 'Music', price: '$459.99', name: 'Clarinet'},\n//     '2': {id: 2, category: 'Music', price: '$5,000', name: 'Cello'},\n//     '3': {id: 3, category: 'Music', price: '$3,500', name: 'Tuba'},\n//     '4': {id: 4, category: 'Furniture', price: '$799', name: 'Chaise Lounge'},\n//     '5': {id: 5, category: 'Furniture', price: '$1,300', name: 'Dining Table'},\n//     '6': {id: 6, category: 'Furniture', price: '$100', name: 'Bean Bag'}\n// };\n\nclass Products extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filterText: '',\n      // products: PRODUCTS\n      products: []\n    };\n    this.handleFilter = this.handleFilter.bind(this);\n    this.handleDestroy = this.handleDestroy.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n  }\n\n  componentWillMount() {\n    this.getProducts();\n  }\n\n  getProducts() {\n    $.ajax({\n      type: \"GET\",\n      url: 'http://localhost:3001/product/get/'\n    }).then(resp => {\n      console.table(resp);\n      this.setState({\n        products: resp\n      });\n    });\n  }\n\n  handleFilter(filterInput) {\n    this.setState(filterInput);\n  }\n\n  handleSave(product) {\n    if (!product.id) {\n      product.id = new Date().getTime();\n    }\n\n    $.ajax({\n      type: \"POST\",\n      url: 'http://localhost:3001/product/create',\n      data: product\n    }).then(() => {\n      this.getProducts();\n    }); // this.setState((prevState) => {\n    //     let products = prevState.products\n    //     products[product.id] = product\n    //     return { products }\n    // })\n  }\n\n  handleDestroy(productId) {\n    this.setState(prevState => {\n      let products = prevState.products;\n      delete products[productId];\n      return {\n        products\n      };\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"My Inventory\"), React.createElement(Filters, {\n      onFilter: this.handleFilter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(ProductTable, {\n      products: this.state.products,\n      filterText: this.state.filterText,\n      onDestroy: this.handleDestroy,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(ProductForm, {\n      onSave: this.handleSave,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Products;","map":{"version":3,"sources":["/Users/ritugupta/Desktop/CS648/assignment13/src/Products.js"],"names":["React","Component","Filters","ProductTable","ProductForm","$","Products","constructor","props","state","filterText","products","handleFilter","bind","handleDestroy","handleSave","componentWillMount","getProducts","ajax","type","url","then","resp","console","table","setState","filterInput","product","id","Date","getTime","data","productId","prevState","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,CAAP,MAAc,QAAd,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,QAAN,SAAuBL,SAAvB,CAAiC;AAC7BM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,UAAU,EAAE,EADH;AAET;AACAC,MAAAA,QAAQ,EAAC;AAHA,KAAb;AAKA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKE,UAAL,GAAkB,KAAKA,UAAL,CAAgBF,IAAhB,CAAqB,IAArB,CAAlB;AACH;;AAEDG,EAAAA,kBAAkB,GAAG;AACjB,SAAKC,WAAL;AACD;;AAEHA,EAAAA,WAAW,GAAG;AACVZ,IAAAA,CAAC,CAACa,IAAF,CAAO;AACLC,MAAAA,IAAI,EAAE,KADD;AAELC,MAAAA,GAAG,EAAE;AAFA,KAAP,EAGGC,IAHH,CAGQC,IAAI,IAAI;AACdC,MAAAA,OAAO,CAACC,KAAR,CAAcF,IAAd;AACA,WAAKG,QAAL,CAAc;AACZd,QAAAA,QAAQ,EAAEW;AADE,OAAd;AAGD,KARD;AASH;;AAEDV,EAAAA,YAAY,CAACc,WAAD,EAAc;AACtB,SAAKD,QAAL,CAAcC,WAAd;AACH;;AAEDX,EAAAA,UAAU,CAACY,OAAD,EAAU;AAChB,QAAI,CAACA,OAAO,CAACC,EAAb,EAAiB;AACbD,MAAAA,OAAO,CAACC,EAAR,GAAa,IAAIC,IAAJ,GAAWC,OAAX,EAAb;AACH;;AACDzB,IAAAA,CAAC,CAACa,IAAF,CAAO;AACHC,MAAAA,IAAI,EAAE,MADH;AAEHC,MAAAA,GAAG,EAAE,sCAFF;AAGHW,MAAAA,IAAI,EAAEJ;AAHH,KAAP,EAIKN,IAJL,CAIU,MAAM;AACZ,WAAKJ,WAAL;AACH,KAND,EAJgB,CAWhB;AACA;AACA;AACA;AACA;AACH;;AAEDH,EAAAA,aAAa,CAACkB,SAAD,EAAY;AACrB,SAAKP,QAAL,CAAeQ,SAAD,IAAe;AACzB,UAAItB,QAAQ,GAAGsB,SAAS,CAACtB,QAAzB;AACA,aAAOA,QAAQ,CAACqB,SAAD,CAAf;AACA,aAAO;AAAErB,QAAAA;AAAF,OAAP;AACH,KAJD;AAKH;;AAEDuB,EAAAA,MAAM,GAAI;AACN,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEI,oBAAC,OAAD;AACI,MAAA,QAAQ,EAAE,KAAKtB,YADnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAII,oBAAC,YAAD;AACI,MAAA,QAAQ,EAAE,KAAKH,KAAL,CAAWE,QADzB;AAEI,MAAA,UAAU,EAAE,KAAKF,KAAL,CAAWC,UAF3B;AAGI,MAAA,SAAS,EAAE,KAAKI,aAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,EAQI,oBAAC,WAAD;AACI,MAAA,MAAM,EAAE,KAAKC,UADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARJ,CADJ;AAaH;;AAzE4B;;AA4EjC,eAAeT,QAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport Filters from './Filters'\r\nimport ProductTable from './ProductTable'\r\nimport ProductForm from './ProductForm'\r\nimport $ from 'jquery'\r\n\r\n// let PRODUCTS = {\r\n//     '1': {id: 1, category: 'Music', price: '$459.99', name: 'Clarinet'},\r\n//     '2': {id: 2, category: 'Music', price: '$5,000', name: 'Cello'},\r\n//     '3': {id: 3, category: 'Music', price: '$3,500', name: 'Tuba'},\r\n//     '4': {id: 4, category: 'Furniture', price: '$799', name: 'Chaise Lounge'},\r\n//     '5': {id: 5, category: 'Furniture', price: '$1,300', name: 'Dining Table'},\r\n//     '6': {id: 6, category: 'Furniture', price: '$100', name: 'Bean Bag'}\r\n// };\r\n\r\nclass Products extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            filterText: '',\r\n            // products: PRODUCTS\r\n            products:[]\r\n        }\r\n        this.handleFilter = this.handleFilter.bind(this)\r\n        this.handleDestroy = this.handleDestroy.bind(this)\r\n        this.handleSave = this.handleSave.bind(this)\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.getProducts()\r\n      }\r\n    \r\n    getProducts() {\r\n        $.ajax({\r\n          type: \"GET\",\r\n          url: 'http://localhost:3001/product/get/'\r\n        }).then(resp => {\r\n          console.table(resp)\r\n          this.setState({\r\n            products: resp\r\n          })\r\n        })\r\n    }\r\n\r\n    handleFilter(filterInput) {\r\n        this.setState(filterInput)\r\n    }\r\n\r\n    handleSave(product) {\r\n        if (!product.id) {\r\n            product.id = new Date().getTime()\r\n        }\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: 'http://localhost:3001/product/create',\r\n            data: product\r\n          }).then(() => {\r\n            this.getProducts()\r\n        })\r\n        // this.setState((prevState) => {\r\n        //     let products = prevState.products\r\n        //     products[product.id] = product\r\n        //     return { products }\r\n        // })\r\n    }\r\n\r\n    handleDestroy(productId) {\r\n        this.setState((prevState) => {\r\n            let products = prevState.products\r\n            delete products[productId]\r\n            return { products }\r\n        });\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div>\r\n                <h1>My Inventory</h1>\r\n                <Filters \r\n                    onFilter={this.handleFilter}></Filters>\r\n                <ProductTable \r\n                    products={this.state.products}\r\n                    filterText={this.state.filterText}\r\n                    onDestroy={this.handleDestroy}></ProductTable>\r\n                <ProductForm\r\n                    onSave={this.handleSave}></ProductForm>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Products"]},"metadata":{},"sourceType":"module"}